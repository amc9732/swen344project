/*

 Tests for the Book.php API

 */
describe('The Book.php HTTP calls', function () {
	var httpBackend;

	beforeEach(inject(function (_$httpBackend_) {
		httpBackend = _$httpBackend_;
	}));

	it('should return correct information for all books in DB', inject(function ($http) {

		var $scope = {};

		/* ACTUAL CODE BEING TESTED */
		$http.get('http://localhost:1337/vm344e.se.rit.edu/api/Book.php?action=get_all_books')
			.success(function (data, status, headers, config) {
				$scope.valid = true;
				$scope.response = data;
			})
			.error(function (data, status, headers, config) {
				$scope.valid = false;
			});

		//Mock reponse
		httpBackend
			.when('GET', 'http://localhost:1337/vm344e.se.rit.edu/api/Book.php?action=get_all_books')
			.respond(200, {"BookID":889,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":890,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":891,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":892,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":893,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":894,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":895,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":896,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":897,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":898,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":899,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":900,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":901,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":902,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":903,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":904,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":905,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":906,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":907,"Author":"author's custom name","Price":35,"Name":"book's custom title","Description":"This is a book's description"},{"BookID":908,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":909,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":910,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":911,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":912,"Author":"author's custom name","Price":35,"Name":"book's custom title","Description":"This is a book's description"},{"BookID":913,"Author":"The Rock Johnson","Price":20,"Name":"The art of the muscle off","Description":"Not actually the book of knowledge"},{"BookID":914,"Author":"Zane","Price":30,"Name":"MyBook","Description":"my description"},{"BookID":915,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":916,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":917,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":918,"Author":"author's custom name","Price":35,"Name":"book's custom title","Description":"This is a book's description"},{"BookID":919,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":920,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":921,"Author":"55","Price":30,"Name":"55","Description":"55"},{"BookID":922,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":923,"Author":"WSEre","Price":25,"Name":"Book","Description":"erq1df"},{"BookID":924,"Author":"sfd","Price":23456,"Name":"sjhr","Description":"dfg"},{"BookID":925,"Author":"Stephen","Price":55.55,"Name":"The Book","Description":"The great description"},{"BookID":926,"Author":"ch is auth","Price":1,"Name":"changerooooooskies","Description":"cfejknvlk"},{"BookID":927,"Author":"t5ttt","Price":9,"Name":"tttt","Description":"sdfgtrh"},{"BookID":928,"Author":"Zane g","Price":22.34,"Name":"Zane Book","Description":"My book"},{"BookID":929,"Author":"sd","Price":22.11,"Name":"dasd","Description":"fdsfds"},{"BookID":930,"Author":"dsbfkasl","Price":45.67,"Name":"bvifdw","Description":"fndksl;g"},{"BookID":931,"Author":"gf kds","Price":12.23,"Name":"gerktw","Description":"dasb"},{"BookID":932,"Author":"d","Price":1,"Name":"dd","Description":"dddd"},{"BookID":934,"Author":"f","Price":33,"Name":"Stopbreaking","Description":"s"},{"BookID":935,"Author":"Frank","Price":35.04,"Name":"Quantity","Description":"This book is great"},{"BookID":936,"Author":"NOT","Price":2,"Name":"efrgt","Description":"rt"},{"BookID":937,"Author":"w","Price":1,"Name":"w","Description":"w"},{"BookID":938,"Author":"a","Price":1,"Name":"a","Description":"a"},{"BookID":939,"Author":"Brian","Price":45.99,"Name":"SWEN 344 Text","Description":"Description"},{"BookID":940,"Author":"a","Price":1,"Name":"a","Description":"a"},{"BookID":941,"Author":"a","Price":1,"Name":"a","Description":"a"},{"BookID":942,"Author":"a","Price":11111,"Name":"aa","Description":"aaaaaaaaaaaaaaaaa"},{"BookID":943,"Author":"a","Price":1,"Name":"sa","Description":"a"},{"BookID":944,"Author":"Clease Readman","Price":25.55,"Name":"Tibbles","Description":"Tibbles and his cat go on another adventure!"},{"BookID":945,"Author":"a","Price":111,"Name":"a","Description":"a"},{"BookID":946,"Author":"The Top Author","Price":10,"Name":"The Best Book","Description":"Great book"},{"BookID":947,"Author":"sdasd","Price":1212121,"Name":"sds","Description":"sad"},{"BookID":948,"Author":"ghju","Price":123,"Name":"dsfdgth","Description":"gty"},{"BookID":949,"Author":"Krutz","Price":199.99,"Name":"SWEN 344 Text","Description":"The book of knowledge."},{"BookID":950,"Author":"Claire Louise","Price":12.55,"Name":"Pond","Description":"Here is a fish."},{"BookID":951,"Author":"Earnest Bernest","Price":99.99,"Name":"Old Man and the Sea","Description":"The old man catches a big fish."},{"BookID":952,"Author":"Bach","Price":79.21,"Name":"Bach the Author","Description":"Music for you ears. Unless you cant hear."});

		//Needs to call this
		httpBackend.flush();

		expect($scope.valid).toBe(true);
		expect($scope.response).toEqual({"BookID":889,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":890,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":891,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":892,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":893,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":894,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":895,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":896,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":897,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":898,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":899,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":900,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":901,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":902,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":903,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":904,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":905,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":906,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":907,"Author":"author's custom name","Price":35,"Name":"book's custom title","Description":"This is a book's description"},{"BookID":908,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":909,"Author":"Knowledge","Price":35,"Name":"BOOKSTITLE","Description":"description"},{"BookID":910,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":911,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":912,"Author":"author's custom name","Price":35,"Name":"book's custom title","Description":"This is a book's description"},{"BookID":913,"Author":"The Rock Johnson","Price":20,"Name":"The art of the muscle off","Description":"Not actually the book of knowledge"},{"BookID":914,"Author":"Zane","Price":30,"Name":"MyBook","Description":"my description"},{"BookID":915,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":916,"Author":"SWEN","Price":15,"Name":"TisAbook","Description":"Just a description"},{"BookID":917,"Author":"Kruuttz","Price":35,"Name":"ABOOK","Description":"What a wonderful book"},{"BookID":918,"Author":"author's custom name","Price":35,"Name":"book's custom title","Description":"This is a book's description"},{"BookID":919,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":920,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":921,"Author":"55","Price":30,"Name":"55","Description":"55"},{"BookID":922,"Author":"Zane","Price":30,"Name":"MyBook","Description":"A discription"},{"BookID":923,"Author":"WSEre","Price":25,"Name":"Book","Description":"erq1df"},{"BookID":924,"Author":"sfd","Price":23456,"Name":"sjhr","Description":"dfg"},{"BookID":925,"Author":"Stephen","Price":55.55,"Name":"The Book","Description":"The great description"},{"BookID":926,"Author":"ch is auth","Price":1,"Name":"changerooooooskies","Description":"cfejknvlk"},{"BookID":927,"Author":"t5ttt","Price":9,"Name":"tttt","Description":"sdfgtrh"},{"BookID":928,"Author":"Zane g","Price":22.34,"Name":"Zane Book","Description":"My book"},{"BookID":929,"Author":"sd","Price":22.11,"Name":"dasd","Description":"fdsfds"},{"BookID":930,"Author":"dsbfkasl","Price":45.67,"Name":"bvifdw","Description":"fndksl;g"},{"BookID":931,"Author":"gf kds","Price":12.23,"Name":"gerktw","Description":"dasb"},{"BookID":932,"Author":"d","Price":1,"Name":"dd","Description":"dddd"},{"BookID":934,"Author":"f","Price":33,"Name":"Stopbreaking","Description":"s"},{"BookID":935,"Author":"Frank","Price":35.04,"Name":"Quantity","Description":"This book is great"},{"BookID":936,"Author":"NOT","Price":2,"Name":"efrgt","Description":"rt"},{"BookID":937,"Author":"w","Price":1,"Name":"w","Description":"w"},{"BookID":938,"Author":"a","Price":1,"Name":"a","Description":"a"},{"BookID":939,"Author":"Brian","Price":45.99,"Name":"SWEN 344 Text","Description":"Description"},{"BookID":940,"Author":"a","Price":1,"Name":"a","Description":"a"},{"BookID":941,"Author":"a","Price":1,"Name":"a","Description":"a"},{"BookID":942,"Author":"a","Price":11111,"Name":"aa","Description":"aaaaaaaaaaaaaaaaa"},{"BookID":943,"Author":"a","Price":1,"Name":"sa","Description":"a"},{"BookID":944,"Author":"Clease Readman","Price":25.55,"Name":"Tibbles","Description":"Tibbles and his cat go on another adventure!"},{"BookID":945,"Author":"a","Price":111,"Name":"a","Description":"a"},{"BookID":946,"Author":"The Top Author","Price":10,"Name":"The Best Book","Description":"Great book"},{"BookID":947,"Author":"sdasd","Price":1212121,"Name":"sds","Description":"sad"},{"BookID":948,"Author":"ghju","Price":123,"Name":"dsfdgth","Description":"gty"},{"BookID":949,"Author":"Krutz","Price":199.99,"Name":"SWEN 344 Text","Description":"The book of knowledge."},{"BookID":950,"Author":"Claire Louise","Price":12.55,"Name":"Pond","Description":"Here is a fish."},{"BookID":951,"Author":"Earnest Bernest","Price":99.99,"Name":"Old Man and the Sea","Description":"The old man catches a big fish."},{"BookID":952,"Author":"Bach","Price":79.21,"Name":"Bach the Author","Description":"Music for you ears. Unless you cant hear."});

	}));
});